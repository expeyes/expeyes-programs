<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.16: http://docutils.sourceforge.net/" />
<title>Programmer ExpEYES à l'aide de Python</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7952 2016-07-26 18:15:59Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

.subscript {
  vertical-align: sub;
  font-size: smaller }

.superscript {
  vertical-align: super;
  font-size: smaller }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left, table.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right, table.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

table.align-center {
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

.align-top    {
  vertical-align: top }

.align-middle {
  vertical-align: middle }

.align-bottom {
  vertical-align: bottom }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
<style type="text/css">

/*
*   math2html: convert LaTeX equations to HTML output.
*
*   Copyright (C) 2009,2010 Alex Fernández
*
*   Released under the terms of the `2-Clause BSD license'_, in short:
*   Copying and distribution of this file, with or without modification,
*   are permitted in any medium without royalty provided the copyright
*   notice and this notice are preserved.
*   This file is offered as-is, without any warranty.
*
* .. _2-Clause BSD license: http://www.spdx.org/licenses/BSD-2-Clause
*
*   Based on eLyXer: convert LyX source files to HTML output.
*   http://elyxer.nongnu.org/
*/
/* --end--
* CSS file for LaTeX formulas.
*/

/* Formulas */
.formula {
	text-align: center;
	font-family: "Droid Serif", "DejaVu Serif", "STIX", serif;
	margin: 1.2em 0;
}
span.formula {
	white-space: nowrap;
}
div.formula {
	padding: 0.5ex;
	margin-left: auto;
	margin-right: auto;
}

/* Basic features */
a.eqnumber {
	display: inline-block;
	float: right;
	clear: right;
	font-weight: bold;
}
span.unknown {
	color: #800000;
}
span.ignored, span.arraydef {
	display: none;
}
.formula i {
	letter-spacing: 0.1ex;
}

/* Alignment */
.align-left, .align-l {
	text-align: left;
}
.align-right, .align-r {
	text-align: right;
}
.align-center, .align-c {
	text-align: center;
}

/* Structures */
span.overline, span.bar {
	text-decoration: overline;
}
.fraction, .fullfraction {
	display: inline-block;
	vertical-align: middle;
	text-align: center;
}
.fraction .fraction {
	font-size: 80%;
	line-height: 100%;
}
span.numerator {
	display: block;
}
span.denominator {
	display: block;
	padding: 0ex;
	border-top: thin solid;
}
sup.numerator, sup.unit {
	font-size: 70%;
	vertical-align: 80%;
}
sub.denominator, sub.unit {
	font-size: 70%;
	vertical-align: -20%;
}
span.sqrt {
	display: inline-block;
	vertical-align: middle;
	padding: 0.1ex;
}
sup.root {
	font-size: 70%;
	position: relative;
	left: 1.4ex;
}
span.radical {
	display: inline-block;
	padding: 0ex;
	font-size: 150%;
	vertical-align: top;
}
span.root {
	display: inline-block;
	border-top: thin solid;
	padding: 0ex;
	vertical-align: middle;
}
span.symbol {
	line-height: 125%;
	font-size: 125%;
}
span.bigsymbol {
	line-height: 150%;
	font-size: 150%;
}
span.largesymbol {
	font-size: 175%;
}
span.hugesymbol {
	font-size: 200%;
}
span.scripts {
	display: inline-table;
	vertical-align: middle;
}
.script {
	display: table-row;
	text-align: left;
	line-height: 150%;
}
span.limits {
	display: inline-table;
	vertical-align: middle;
}
.limit {
	display: table-row;
	line-height: 99%;
}
sup.limit, sub.limit {
	line-height: 100%;
}
span.symbolover {
	display: inline-block;
	text-align: center;
	position: relative;
	float: right;
	right: 100%;
	bottom: 0.5em;
	width: 0px;
}
span.withsymbol {
	display: inline-block;
}
span.symbolunder {
	display: inline-block;
	text-align: center;
	position: relative;
	float: right;
	right: 80%;
	top: 0.3em;
	width: 0px;
}

/* Environments */
span.array, span.bracketcases, span.binomial, span.environment {
	display: inline-table;
	text-align: center;
	border-collapse: collapse;
	margin: 0em;
	vertical-align: middle;
}
span.arrayrow, span.binomrow {
	display: table-row;
	padding: 0ex;
	border: 0ex;
}
span.arraycell, span.bracket, span.case, span.binomcell, span.environmentcell {
	display: table-cell;
	padding: 0ex 0.2ex;
	line-height: 99%;
	border: 0ex;
}
/*
* CSS file for LaTeX formulas, extra stuff:
* binomials, vertical braces, stackrel, fonts and colors.
*/

/* Inline binomials */
span.binom {
	display: inline-block;
	vertical-align: middle;
	text-align: center;
	font-size: 80%;
}
span.binomstack {
	display: block;
	padding: 0em;
}

/* Over- and underbraces */
span.overbrace {
	border-top: 2pt solid;
}
span.underbrace {
	border-bottom: 2pt solid;
}

/* Stackrel */
span.stackrel {
	display: inline-block;
	text-align: center;
}
span.upstackrel {
	display: block;
	padding: 0em;
	font-size: 80%;
	line-height: 64%;
	position: relative;
	top: 0.15em;

}
span.downstackrel {
	display: block;
	vertical-align: bottom;
	padding: 0em;
}

/* Fonts */
span.mathsf, span.textsf {
	font-style: normal;
	font-family: sans-serif;
}
span.mathrm, span.textrm {
	font-style: normal;
	font-family: serif;
}
span.text, span.textnormal {
	font-style: normal;
}
span.textipa {
	color: #008080;
}
span.fraktur {
	font-family: "Lucida Blackletter", eufm10, blackletter;
}
span.blackboard {
	font-family: Blackboard, msbm10, serif;
}
span.scriptfont {
	font-family: "Monotype Corsiva", "Apple Chancery", "URW Chancery L", cursive;
	font-style: italic;
}

/* Colors */
span.colorbox {
	display: inline-block;
	padding: 5px;
}
span.fbox {
	display: inline-block;
	border: thin solid black;
	padding: 2px;
}
span.boxed, span.framebox {
	display: inline-block;
	border: thin solid black;
	padding: 5px;
}


</style>
</head>
<body>
<div class="document" id="programmer-expeyes-a-l-aide-de-python">
<h1 class="title">Programmer ExpEYES à l'aide de Python</h1>

<p>Les programmes à interface graphique décrit dans les chapitres
précédents sont prévus pour un ensemble fini d'expériences. Pour
développer de nouvelles expériences, on doit savoir comment accéder
aux fonctionnalités d'expEYES par logiciel. Les appels de fonctions
importants pour communiquer avec l'appareil sont donnés ci-dessous.</p>
<div class="section" id="etablir-la-connexion">
<h1>Établir la Connexion</h1>
<p>Pour accéder au matériel de EYES17, les modules Python pour <tt class="docutils literal">eyes17</tt>
doivent être installés. Il sont censés se trouver dans un répertoire
nommé <tt class="docutils literal">eyes17</tt>, qui pourrait être dans votre répertoire personnel
ou sur le «&nbsp;Python PATH&nbsp;».</p>
<p><strong>Tout programme doit commencer par les deux lignes suivantes&nbsp;:</strong></p>
<pre class="code python literal-block">
<span class="keyword namespace">import</span> <span class="name namespace">eyes17.eyes</span>
<span class="name">p</span> <span class="operator">=</span> <span class="name">eyes17</span><span class="operator">.</span><span class="name">eyes</span><span class="operator">.</span><span class="name">open</span><span class="punctuation">()</span>
</pre>
<p>La variable <tt class="docutils literal">p</tt> est l'objet logiciel qui représente le matériel.</p>
<p>Les sections suivantes expliquent les appels de fonctions Python pour
accéder au matériel EYES17. Chaque appel de fonction est expliquer
avec un exemple d'utilisation.</p>
</div>
<div class="section" id="set-pv1-v-set-pv2-v">
<h1>set_pv1(v), set_pv2(v)</h1>
<p>Règle la tension continue en PV1 et PV2. L'intervalle pour PV1 est
de -5 à 5. L'intervalle pour PV2 est de -3,3 à 3,3.</p>
<pre class="code python literal-block">
<span class="keyword">print</span> <span class="name">p</span><span class="operator">.</span><span class="name">set_pv1</span><span class="punctuation">(</span><span class="literal number integer">4</span><span class="punctuation">)</span>
<span class="keyword">print</span> <span class="name">p</span><span class="operator">.</span><span class="name">set_pv2</span><span class="punctuation">(</span><span class="literal number float">2.1</span><span class="punctuation">)</span>
</pre>
<p>La valeur assignée à la sortie est affichée. Mesurer les tensions
avec un voltmètre.</p>
</div>
<div class="section" id="get-voltage-entree">
<h1>get_voltage(entree)</h1>
<p>Renvoie la tension de l'entrée spécifiée.</p>
<pre class="code python literal-block">
<span class="keyword">print</span> <span class="name">p</span><span class="operator">.</span><span class="name">get_voltage</span><span class="punctuation">(</span><span class="literal string single">'A1'</span><span class="punctuation">)</span>
<span class="keyword">print</span> <span class="name">p</span><span class="operator">.</span><span class="name">get_voltage</span><span class="punctuation">(</span><span class="literal string single">'A2'</span><span class="punctuation">)</span>
<span class="keyword">print</span> <span class="name">p</span><span class="operator">.</span><span class="name">get_voltage</span><span class="punctuation">(</span><span class="literal string single">'A3'</span><span class="punctuation">)</span>
<span class="keyword">print</span> <span class="name">p</span><span class="operator">.</span><span class="name">get_voltage</span><span class="punctuation">(</span><span class="literal string single">'MIC'</span><span class="punctuation">)</span>
<span class="keyword">print</span> <span class="name">p</span><span class="operator">.</span><span class="name">get_voltage</span><span class="punctuation">(</span><span class="literal string single">'SEN'</span><span class="punctuation">)</span>
</pre>
<p>Connecter PV1 à A1, et utiliser <tt class="docutils literal">set_pv1()</tt> et <tt class="docutils literal"><span class="pre">get_voltage('A1')</span></tt>
ensemble. Cette fonction ajuste le calibre d'entrée par essais et
erreurs, selon la valeur du signal d'entrée.</p>
</div>
<div class="section" id="get-voltage-time-entree">
<h1>get_voltage_time(entree)</h1>
<p>Renvoie un tuple, qui contient le timbre à date de l'ordinateur et
la tension à l'entrée spécifiée.</p>
<pre class="code python literal-block">
<span class="keyword">print</span> <span class="name">p</span><span class="operator">.</span><span class="name">get_voltage_time</span><span class="punctuation">(</span><span class="literal string single">'A1'</span><span class="punctuation">)</span>
</pre>
</div>
<div class="section" id="get-resistance">
<h1>get_resistance()</h1>
<p>Renvoie la valeur de la résistance connectée à SEN, qui devrait être
entre <span class="formula">100Ω</span> et <span class="formula">100<i>k</i>Ω</span> pour une précision raisonnable.</p>
<p>..code-block:: python</p>
<blockquote>
print p.get_resistance()</blockquote>
</div>
<div class="section" id="get-capacitance">
<h1>get_capacitance()</h1>
<p>Renvoie la valeur de la capacité connectée en IN1 (fonctionne bien
dans le domaine du <span class="formula"><i>pF</i></span>)</p>
<pre class="code python literal-block">
<span class="keyword">print</span> <span class="name">p</span><span class="operator">.</span><span class="name">get_capacitance</span><span class="punctuation">()</span>
</pre>
</div>
<div class="section" id="get-version">
<h1>get_version()</h1>
<p>Renvoie la version du firmware.</p>
<pre class="code python literal-block">
<span class="keyword">print</span> <span class="name">p</span><span class="operator">.</span><span class="name">get_version</span><span class="punctuation">()</span>
</pre>
</div>
<div class="section" id="get-temperature">
<h1>get_temperature()</h1>
<p>Renvoie la température du processeur à l'intérieur de EYES17</p>
<pre class="code python literal-block">
<span class="keyword">print</span> <span class="name">p</span><span class="operator">.</span><span class="name">get_temperature</span><span class="punctuation">()</span>
</pre>
</div>
<div class="section" id="set-state-sortie-valeur">
<h1>set_state(SORTIE=valeur)</h1>
<p>Règle l'état logique de la sortie OD1, SQ1, etc. Connecter OD1 à A1
et lancer&nbsp;:</p>
<pre class="code python literal-block">
<span class="name">p</span><span class="operator">.</span><span class="name">set_state</span><span class="punctuation">(</span><span class="name">OD1</span><span class="operator">=</span><span class="literal number integer">1</span><span class="punctuation">)</span>
<span class="keyword">print</span> <span class="name">p</span><span class="operator">.</span><span class="name">get_voltage</span><span class="punctuation">(</span><span class="literal string single">'A1'</span><span class="punctuation">)</span>
</pre>
</div>
<div class="section" id="set-sine-frequence">
<h1>set_sine(frequence)</h1>
<p>Génère le signal sinusoïdal de la fréquence demandée sur WG (intervalle
de <span class="formula">5<i>Hz</i></span> à <span class="formula">5000<i>Hz</i></span>). Toutes les valeurs intermédiaires ne sont
pas possibles, la fonction renvoie la valeur effectivement adoptée.</p>
<pre class="code python literal-block">
<span class="keyword">print</span> <span class="name">p</span><span class="operator">.</span><span class="name">set_sine</span><span class="punctuation">(</span><span class="literal number integer">502</span><span class="punctuation">)</span>
</pre>
<p><tt class="docutils literal">502.00803</tt></p>
</div>
<div class="section" id="set-sine-amp-amplitude">
<h1>set_sine_amp(amplitude)</h1>
<p>L'amplitude peut être réglée à trois valeurs prédéfinies de tension
crête(0 pour avoir <span class="formula">80<i>mV</i></span>, 1 pour avoir <span class="formula">1<i>V</i></span>, 3 pour avoir <span class="formula">3<i>V</i></span>).</p>
<pre class="code python literal-block">
<span class="name">p</span><span class="operator">.</span><span class="name">set_sine_amp</span><span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">)</span>
</pre>
<p>Règle l'amplitude à <span class="formula">3<i>V</i></span> crête.</p>
</div>
<div class="section" id="set-sqr1-frequence">
<h1>set_sqr1(frequence)</h1>
<p>Règle la fréquence de la sortie SQ1 (intervalle de <span class="formula">4<i>Hz</i></span> à <span class="formula">1<i>MHz</i></span>).
Toutes les valeurs intermédiaires ne sont pas possibles, la fonction
renvoie la valeur effectivement adoptée.</p>
<pre class="code python literal-block">
<span class="keyword">print</span> <span class="name">p</span><span class="operator">.</span><span class="name">set_sqr1</span><span class="punctuation">(</span><span class="literal number integer">15030</span><span class="punctuation">)</span>
</pre>
<p><tt class="docutils literal">15030.53</tt></p>
</div>
<div class="section" id="set-sqr1-slow-frequence">
<h1>set_sqr1_slow(frequence)</h1>
<p>Règle la fréquence de la sortie SQ1 (intervalle de <span class="formula">0, 1<i>Hz</i></span> à <span class="formula">1<i>MHz</i></span>).
Toutes les valeurs intermédiaires ne sont pas possibles, la fonction
renvoie la valeur effectivement adoptée. La résolution est fine mais
WG est désactivé quand on commande SQ1 de cette façon.</p>
<pre class="code python literal-block">
<span class="keyword">print</span> <span class="name">p</span><span class="operator">.</span><span class="name">set_sqr1_slow</span><span class="punctuation">(</span><span class="literal number float">0.5</span><span class="punctuation">)</span>
</pre>
</div>
<div class="section" id="set-sqr2-frequence">
<h1>set_sqr2(frequence)</h1>
<p>Similaire à set_sqr1() mais SQ2 n'est pas disponible en même temps
que WG, une seule des deux sorties est utilisable à la fois.</p>
</div>
<div class="section" id="set-sqr1-frequence-rapportcyclique">
<h1>set_sqr1(frequence, rapportCyclique)</h1>
<p>Règle la fréquence de la sortie SQ1 (intervalle de <span class="formula">0, 1<i>Hz</i></span> à <span class="formula">1<i>MHz</i></span>).
Toutes les valeurs intermédiaires ne sont pas possibles, la fonction
renvoie la valeur effectivement adoptée.</p>
<pre class="code python literal-block">
<span class="keyword">print</span> <span class="name">p</span><span class="operator">.</span><span class="name">set_sqr1</span><span class="punctuation">(</span><span class="literal number integer">1000</span><span class="punctuation">,</span> <span class="literal number integer">30</span><span class="punctuation">)</span>          <span class="comment single">#1000 ~Hz, rapport cyclique 30%</span>
</pre>
</div>
<div class="section" id="get-freq-entree">
<h1>get_freq(entree)</h1>
<p>Mesure la fréquence d'un signal carré sur l'entrée, IN2 ou SEN. Connecter
SQ1 à IN2 et lancer le code&nbsp;:</p>
<pre class="code python literal-block">
<span class="name">p</span><span class="operator">.</span><span class="name">set_sqr1</span><span class="punctuation">(</span><span class="literal number integer">1000</span><span class="punctuation">)</span>
<span class="keyword">print</span> <span class="name">p</span><span class="operator">.</span><span class="name">get_freq</span><span class="punctuation">(</span><span class="literal string single">'IN2'</span><span class="punctuation">)</span>
</pre>
</div>
<div class="section" id="duty-cycle-entree">
<h1>duty_cycle(entree)</h1>
<p>Mesure le rapport cyclique d'un signal carré , IN2 ou SEN. Connecter
SQ1 à IN2 et lancer le code&nbsp;:</p>
<pre class="code python literal-block">
<span class="name">p</span><span class="operator">.</span><span class="name">set_sqr1</span><span class="punctuation">(</span><span class="literal number integer">1000</span><span class="punctuation">,</span> <span class="literal number integer">30</span><span class="punctuation">)</span>
<span class="keyword">print</span> <span class="name">p</span><span class="operator">.</span><span class="name">duty_cycle</span><span class="punctuation">(</span><span class="literal string single">'IN2'</span><span class="punctuation">)</span>
</pre>
</div>
<div class="section" id="r2ftime-entree1-entree2">
<h1>r2ftime(entree1, entree2)</h1>
<p>Mesure l'intervalle de temps entre un front montant sur input1 jusqu'à
un front descendant sur input2, les entrées peuvent éventuellement
être les mêmes. On peut l'utiliser pour tester un signal carré.</p>
<p>Connecter SQ1 à IN2 et lancer le code&nbsp;:</p>
<pre class="code python literal-block">
<span class="name">p</span><span class="operator">.</span><span class="name">set_sqr1</span><span class="punctuation">(</span><span class="literal number integer">1000</span><span class="punctuation">,</span> <span class="literal number integer">30</span><span class="punctuation">)</span>
<span class="keyword">print</span> <span class="name">p</span><span class="operator">.</span><span class="name">r2ftime</span><span class="punctuation">(</span><span class="literal string single">'IN2'</span><span class="punctuation">,</span> <span class="literal string single">'IN2'</span><span class="punctuation">)</span>
</pre>
<p><tt class="docutils literal">0.0003</tt></p>
<p>Le signal carré à <span class="formula">1<i>kHz</i></span> avec un rapport cyclique de 30% a une
période de <span class="formula">1<i>ms</i></span> et reste à l'état HAUT durant <span class="formula">0, 3<i>ms</i></span>.</p>
</div>
<div class="section" id="multi-r2rtime-entree-nbcycles">
<h1>multi_r2rtime(entree, nbCycles)</h1>
<p>Mesure l'intervalle de temps entre deux fronts montants de l'entrée
<tt class="docutils literal">entree</tt>. La durée entre deux fronts montants est un cycle.
On peut spécifier le nombre cycles à mesurer, la valeur par défaut
étant 1. Les valeurs autorisées sont 1,2,4,8,12,16,32 et 48. On peut
tester ça avec un signal carré.</p>
<p>Connecter SQ1 à IN2 et lancer le code&nbsp;:</p>
<pre class="code python literal-block">
<span class="name">p</span><span class="operator">.</span><span class="name">set_sqr1</span><span class="punctuation">(</span><span class="literal number integer">1000</span><span class="punctuation">)</span>
<span class="keyword">print</span> <span class="name">p</span><span class="operator">.</span><span class="name">multi_r2rtime</span><span class="punctuation">(</span><span class="literal string single">'IN2'</span><span class="punctuation">,</span> <span class="literal number integer">8</span><span class="punctuation">)</span>
</pre>
<p><tt class="docutils literal">0.008</tt></p>
</div>
<div class="section" id="select-range-canal-calibre">
<h1>select_range(canal, calibre)</h1>
<p>Les calibres pour A1 et A2 peuvent être réglés depuis <span class="formula">±0.5<i>V</i></span>
jusqu'à <span class="formula">±16<i>V</i></span>, à l'aide d'amplificateurs à gain programmable.</p>
<pre class="code python literal-block">
<span class="name">p</span><span class="operator">.</span><span class="name">select_range</span><span class="punctuation">(</span><span class="literal string single">'A1'</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">)</span>         <span class="comment single"># 4 volt maximum</span>
<span class="name">p</span><span class="operator">.</span><span class="name">select_range</span><span class="punctuation">(</span><span class="literal string single">'A1'</span><span class="punctuation">,</span> <span class="literal number integer">8</span><span class="punctuation">)</span>         <span class="comment single"># 8 volt maximum</span>
</pre>
</div>
<div class="section" id="capture1-entree-nbechantillons-intervalletemps">
<h1>capture1(entree, nbEchantillons, intervalleTemps)</h1>
<p>Numérise l'entrée spécifiée. Le nombre d'échantillons peut aller jusqu'à
10000. La durée entre deux échantillons consécutifs est donnée en
microseconde (intervalle de <span class="formula">2</span> à <span class="formula">1000<i>μ</i><i>s</i></span>).</p>
<pre class="code python literal-block">
<span class="keyword">print</span> <span class="name">p</span><span class="operator">.</span><span class="name">capture1</span><span class="punctuation">(</span><span class="literal string single">'A1'</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">)</span>
</pre>
<p>affichera deux tableaux de dates et de tensions.</p>
<p>Quand on a besoin de créer un graphique de la tension de sortie pour
une meilleure compréhension, on peut le faire à l'aide du module <tt class="docutils literal">matplotlib</tt>,
importé grâce à l'interface <tt class="docutils literal">pylab</tt>. Connecter WG à A1 à l'aide
d'un fil et lancer&nbsp;:</p>
<pre class="code python literal-block">
<span class="keyword namespace">from</span> <span class="name namespace">pylab</span> <span class="keyword namespace">import</span> <span class="operator">*</span>
<span class="name">p</span><span class="operator">.</span><span class="name">set_sine_amp</span><span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">)</span>
<span class="name">p</span><span class="operator">.</span><span class="name">set_sine</span><span class="punctuation">(</span><span class="literal number integer">1000</span><span class="punctuation">)</span>
<span class="name">p</span><span class="operator">.</span><span class="name">select_range</span><span class="punctuation">(</span><span class="literal string single">'A1'</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">)</span>
<span class="name">t</span><span class="punctuation">,</span><span class="name">v</span> <span class="operator">=</span> <span class="name">p</span><span class="operator">.</span><span class="name">capture1</span><span class="punctuation">(</span><span class="literal string single">'A1'</span><span class="punctuation">,</span> <span class="literal number integer">300</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="punctuation">)</span>
<span class="name">plot</span><span class="punctuation">(</span><span class="name">t</span><span class="punctuation">,</span><span class="name">v</span><span class="punctuation">)</span>
<span class="name">show</span><span class="punctuation">()</span>
</pre>
<p>Le résultat de ce code est donné ci-dessous.</p>
<img alt="pics/sine-mpl-screen.png" src="pics/sine-mpl-screen.png" style="width: 400px;" />
</div>
<div class="section" id="capture2-nbechantillons-intervalletemps">
<h1>capture2(nbEchantillons, intervalleTemps)</h1>
<p>Numérise les entrées A1 et A2 simultanément. Le nombre d'échantillons
peut aller jusqu'à 10000. La durée entre deux échantillons consécutifs
est donnée en microseconde (intervalle de <span class="formula">2</span> à <span class="formula">1000<i>μ</i><i>s</i></span>).</p>
<p>Connecter WG à A1, et une diode entre A1 et A2. Lancer le code ci-dessous&nbsp;:</p>
<pre class="code python literal-block">
<span class="keyword namespace">from</span> <span class="name namespace">pylab</span> <span class="keyword namespace">import</span> <span class="operator">*</span>
<span class="name">p</span><span class="operator">.</span><span class="name">set_sine_amp</span><span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">)</span>
<span class="name">p</span><span class="operator">.</span><span class="name">set_sine</span><span class="punctuation">(</span><span class="literal number integer">1000</span><span class="punctuation">)</span>
<span class="name">p</span><span class="operator">.</span><span class="name">select_range</span><span class="punctuation">(</span><span class="literal string single">'A1'</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">)</span>
<span class="name">t</span><span class="punctuation">,</span><span class="name">v</span><span class="punctuation">,</span><span class="name">tt</span><span class="punctuation">,</span><span class="name">vv</span> <span class="operator">=</span> <span class="name">p</span><span class="operator">.</span><span class="name">capture2</span><span class="punctuation">(</span><span class="literal number integer">300</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="punctuation">)</span>
<span class="name">plot</span><span class="punctuation">(</span><span class="name">t</span><span class="punctuation">,</span><span class="name">v</span><span class="punctuation">)</span>
<span class="name">plot</span><span class="punctuation">(</span><span class="name">tt</span><span class="punctuation">,</span><span class="name">vv</span><span class="punctuation">)</span>
<span class="name">show</span><span class="punctuation">()</span>
</pre>
<p>Le résultat de ce code est donné ci-dessous.</p>
<img alt="pics/halfwave-mpl-screen.png" src="pics/halfwave-mpl-screen.png" style="width: 400px;" />
</div>
<div class="section" id="capture4-nbechantillons-intervalletemps">
<h1>capture4(nbEchantillons, intervalleTemps)</h1>
<p>Numérise les entrées A1, A2, A3 et MIC simultanément. Le nombre d'échantillons
peut aller jusqu'à 10000. La durée entre deux échantillons consécutifs
est donnée en microseconde (intervalle de <span class="formula">2</span> à <span class="formula">1000<i>μ</i><i>s</i></span>).</p>
<p>Connecter WG à A3 et lancer le code donné ci-dessous. Le résultat
est montré ci-dessus.</p>
<pre class="code python literal-block">
<span class="keyword namespace">from</span> <span class="name namespace">pylab</span> <span class="keyword namespace">import</span> <span class="operator">*</span>
<span class="name">p</span><span class="operator">.</span><span class="name">set_sine_amp</span><span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">)</span>
<span class="name">p</span><span class="operator">.</span><span class="name">set_sine</span><span class="punctuation">(</span><span class="literal number integer">1000</span><span class="punctuation">)</span>
<span class="name">p</span><span class="operator">.</span><span class="name">select_range</span><span class="punctuation">(</span><span class="literal string single">'A1'</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">)</span>
<span class="name">res</span> <span class="operator">=</span> <span class="name">p</span><span class="operator">.</span><span class="name">capture4</span><span class="punctuation">(</span><span class="literal number integer">300</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="punctuation">)</span>
<span class="name">plot</span><span class="punctuation">(</span><span class="name">res</span><span class="punctuation">{[}</span><span class="literal number integer">4</span><span class="punctuation">{]},</span><span class="name">res</span><span class="punctuation">{[}</span><span class="literal number integer">5</span><span class="punctuation">{]})</span>        <span class="comment single"># A3</span>
<span class="name">plot</span><span class="punctuation">(</span><span class="name">res</span><span class="punctuation">{[}</span><span class="literal number integer">6</span><span class="punctuation">{]},</span><span class="name">res</span><span class="punctuation">{[}</span><span class="literal number integer">7</span><span class="punctuation">{]})</span>        <span class="comment single"># MIC</span>
<span class="name">show</span><span class="punctuation">()</span>
</pre>
<img alt="pics/capture4-mpl-screen.png" src="pics/capture4-mpl-screen.png" style="width: 400px;" />
</div>
<div class="section" id="set-wave-frequence-typedesignal">
<h1>set_wave(frequence, typeDeSignal)</h1>
<p>Si le paramètre <tt class="docutils literal">typeDeSignal</tt> n'est pas spécifié, cela génère
un signal en utilisant la table d'onde existante. Si <tt class="docutils literal">typeDeSignal</tt>
est spécifié <tt class="docutils literal">'sine'</tt> ou <tt class="docutils literal">'tria'</tt>, la table d'onde
correspondante est chargée.</p>
<pre class="code python literal-block">
<span class="keyword namespace">from</span> <span class="name namespace">pylab</span> <span class="keyword namespace">import</span> <span class="operator">*</span>
<span class="name">p</span><span class="operator">.</span><span class="name">set_wave</span><span class="punctuation">(</span><span class="literal number integer">1000</span><span class="punctuation">,</span> <span class="literal string single">'sine'</span><span class="punctuation">)</span>
<span class="name">p</span><span class="operator">.</span><span class="name">set_wave</span><span class="punctuation">(</span><span class="literal number integer">100</span><span class="punctuation">)</span>          <span class="comment single"># fréq. 100Hz avec la table existante</span>
<span class="name">x</span><span class="punctuation">,</span><span class="name">y</span> <span class="operator">=</span> <span class="name">p</span><span class="operator">.</span><span class="name">capture1</span><span class="punctuation">(</span><span class="literal string single">'A1'</span><span class="punctuation">,</span> <span class="literal number integer">500</span><span class="punctuation">,</span><span class="literal number integer">50</span><span class="punctuation">)</span>
<span class="name">plot</span><span class="punctuation">(</span><span class="name">x</span><span class="punctuation">,</span><span class="name">y</span><span class="punctuation">)</span>
<span class="name">p</span><span class="operator">.</span><span class="name">set_wave</span><span class="punctuation">(</span><span class="literal number integer">100</span><span class="punctuation">,</span> <span class="literal string single">'tria'</span><span class="punctuation">)</span>  <span class="comment single"># table d'onde triangulaire et 100 Hz</span>
<span class="name">x</span><span class="punctuation">,</span><span class="name">y</span> <span class="operator">=</span> <span class="name">p</span><span class="operator">.</span><span class="name">capture1</span><span class="punctuation">(</span><span class="literal string single">'A1'</span><span class="punctuation">,</span> <span class="literal number integer">500</span><span class="punctuation">,</span><span class="literal number integer">50</span><span class="punctuation">)</span>
<span class="name">plot</span><span class="punctuation">(</span><span class="name">x</span><span class="punctuation">,</span><span class="name">y</span><span class="punctuation">)</span>
<span class="name">show</span><span class="punctuation">()</span>
</pre>
</div>
<div class="section" id="load-equation-fonction-intervalle">
<h1>load_equation(fonction, intervalle)</h1>
<p>Crée la table d'onde en utilisant l'équation. Connecter WG à A1 et
lancer le code ci-dessous. Le résultat est montré plus bas.</p>
<pre class="code python literal-block">
<span class="keyword namespace">from</span> <span class="name namespace">pylab</span> <span class="keyword namespace">import</span> <span class="operator">*</span>

<span class="keyword">def</span> <span class="name function">f1</span><span class="punctuation">(</span><span class="name">x</span><span class="punctuation">):</span>
    <span class="keyword">return</span> <span class="name">sin</span><span class="punctuation">(</span><span class="name">x</span><span class="punctuation">)</span> <span class="operator">+</span> <span class="name">sin</span><span class="punctuation">(</span><span class="literal number integer">3</span><span class="operator">*</span><span class="name">x</span><span class="punctuation">)</span><span class="operator">/</span><span class="literal number integer">3</span>

<span class="name">p</span><span class="operator">.</span><span class="name">load_equation</span><span class="punctuation">(</span><span class="name">f1</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="operator">-</span><span class="name">pi</span><span class="punctuation">,</span><span class="name">pi</span><span class="punctuation">])</span>
<span class="name">p</span><span class="operator">.</span><span class="name">set_wave</span><span class="punctuation">(</span><span class="literal number integer">400</span><span class="punctuation">)</span>
<span class="name">x</span><span class="punctuation">,</span><span class="name">y</span> <span class="operator">=</span> <span class="name">p</span><span class="operator">.</span><span class="name">capture1</span><span class="punctuation">(</span><span class="literal string single">'A1'</span><span class="punctuation">,</span> <span class="literal number integer">500</span><span class="punctuation">,</span><span class="literal number integer">10</span><span class="punctuation">)</span>
<span class="name">plot</span><span class="punctuation">(</span><span class="name">x</span><span class="punctuation">,</span><span class="name">y</span><span class="punctuation">)</span>
<span class="name">show</span><span class="punctuation">()</span>
</pre>
</div>
<div class="section" id="load-table-table">
<h1>load_table(table)</h1>
<p>On peut aussi charger la table d'onde avec un tableau de 512 éléments.
Connecter WG à A1 et lancer le code ci-dessous. Après l'opération
de valeur absolue, la table commence par 256, puis descend jusqu'à
0 et enfin remonte jusqu'à 255, ce qui trace un signal triangulaire.
Le résultat dû à ce tableau est montré ci-dessus.</p>
<pre class="code python literal-block">
<span class="keyword namespace">from</span> <span class="name namespace">pylab</span> <span class="keyword namespace">import</span> <span class="operator">*</span>
<span class="name">x</span> <span class="operator">=</span> <span class="name">arange</span><span class="punctuation">(</span><span class="operator">-</span><span class="literal number integer">256</span><span class="punctuation">,</span> <span class="literal number integer">256</span><span class="punctuation">)</span>
<span class="name">x</span> <span class="operator">=</span> <span class="name builtin">abs</span><span class="punctuation">(</span><span class="name">x</span><span class="punctuation">)</span>
<span class="name">p</span><span class="operator">.</span><span class="name">load_table</span><span class="punctuation">(</span><span class="name">x</span><span class="punctuation">)</span>
<span class="name">p</span><span class="operator">.</span><span class="name">set_wave</span><span class="punctuation">(</span><span class="literal number integer">400</span><span class="punctuation">)</span>
<span class="name">x</span><span class="punctuation">,</span><span class="name">y</span> <span class="operator">=</span> <span class="name">p</span><span class="operator">.</span><span class="name">capture1</span><span class="punctuation">(</span><span class="literal string single">'A1'</span><span class="punctuation">,</span> <span class="literal number integer">500</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="punctuation">)</span>
<span class="name">plot</span><span class="punctuation">(</span><span class="name">x</span><span class="punctuation">,</span><span class="name">y</span><span class="punctuation">)</span>
<span class="name">show</span><span class="punctuation">()</span>
</pre>
<img alt="pics/load-equation-mpl-screen.png" src="pics/load-equation-mpl-screen.png" style="width: 400px;" />
<img alt="pics/load-table-mpl-screen.png" src="pics/load-table-mpl-screen.png" style="width: 400px;" />
</div>
</div>
</body>
</html>
